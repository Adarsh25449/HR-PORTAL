{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adars\\\\OneDrive\\\\Documents\\\\Desktop\\\\hr-portal\\\\client\\\\src\\\\pages\\\\Attendance.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Attendance = () => {\n  _s();\n  const [mode, setMode] = useState('checkin');\n  const [loading, setLoading] = useState(false);\n  const handleAction = async () => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (!user || !user._id) {\n      alert('User not logged in');\n      return;\n    }\n    const now = new Date();\n    const date = now.toISOString().split('T')[0];\n    const time = now.toLocaleTimeString();\n    const url = `http://localhost:5000/api/attendance/${mode}`;\n    const payload = {\n      employeeId: user._id,\n      date,\n      ...(mode === 'checkin' ? {\n        checkInTime: time\n      } : {\n        checkOutTime: time\n      })\n    };\n    try {\n      setLoading(true);\n      await axios.post(url, payload);\n      alert(`${mode === 'checkin' ? 'Check-in' : 'Check-out'} successful!`);\n    } catch (err) {\n      alert('Failed to mark attendance');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      padding: '2rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Mark Attendance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          ...btnStyle,\n          backgroundColor: mode === 'checkin' ? '#28a745' : '#ccc'\n        },\n        onClick: () => setMode('checkin'),\n        children: \"\\u2705 Check-In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          ...btnStyle,\n          backgroundColor: mode === 'checkout' ? '#dc3545' : '#ccc'\n        },\n        onClick: () => setMode('checkout'),\n        children: \"\\uD83D\\uDD34 Check-Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: submitStyle,\n      onClick: handleAction,\n      disabled: loading,\n      children: loading ? 'Submitting...' : `Submit ${mode}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(Attendance, \"brT0crzFzdTmzoKsEZardMl/dME=\");\n_c = Attendance;\nconst btnStyle = {\n  padding: '0.6rem 1.2rem',\n  border: 'none',\n  color: 'white',\n  fontWeight: 'bold',\n  cursor: 'pointer',\n  borderRadius: '5px'\n};\nconst submitStyle = {\n  ...btnStyle,\n  backgroundColor: '#007bff'\n};\nexport default Attendance;\nvar _c;\n$RefreshReg$(_c, \"Attendance\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Attendance","_s","mode","setMode","loading","setLoading","handleAction","user","JSON","parse","localStorage","getItem","_id","alert","now","Date","date","toISOString","split","time","toLocaleTimeString","url","payload","employeeId","checkInTime","checkOutTime","post","err","console","error","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","btnStyle","backgroundColor","onClick","submitStyle","disabled","_c","border","color","fontWeight","cursor","borderRadius","$RefreshReg$"],"sources":["C:/Users/adars/OneDrive/Documents/Desktop/hr-portal/client/src/pages/Attendance.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Attendance = () => {\r\n  const [mode, setMode] = useState('checkin');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleAction = async () => {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    if (!user || !user._id) {\r\n      alert('User not logged in');\r\n      return;\r\n    }\r\n\r\n    const now = new Date();\r\n    const date = now.toISOString().split('T')[0];\r\n    const time = now.toLocaleTimeString();\r\n\r\n    const url = `http://localhost:5000/api/attendance/${mode}`;\r\n    const payload = {\r\n      employeeId: user._id,\r\n      date,\r\n      ...(mode === 'checkin' ? { checkInTime: time } : { checkOutTime: time }),\r\n    };\r\n\r\n    try {\r\n      setLoading(true);\r\n      await axios.post(url, payload);\r\n      alert(`${mode === 'checkin' ? 'Check-in' : 'Check-out'} successful!`);\r\n    } catch (err) {\r\n      alert('Failed to mark attendance');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center', padding: '2rem' }}>\r\n      <h2>Mark Attendance</h2>\r\n      <div style={{ marginBottom: '1rem' }}>\r\n        <button\r\n          style={{ ...btnStyle, backgroundColor: mode === 'checkin' ? '#28a745' : '#ccc' }}\r\n          onClick={() => setMode('checkin')}\r\n        >\r\n          âœ… Check-In\r\n        </button>\r\n        &nbsp;\r\n        <button\r\n          style={{ ...btnStyle, backgroundColor: mode === 'checkout' ? '#dc3545' : '#ccc' }}\r\n          onClick={() => setMode('checkout')}\r\n        >\r\n          ðŸ”´ Check-Out\r\n        </button>\r\n      </div>\r\n      <button style={submitStyle} onClick={handleAction} disabled={loading}>\r\n        {loading ? 'Submitting...' : `Submit ${mode}`}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst btnStyle = {\r\n  padding: '0.6rem 1.2rem',\r\n  border: 'none',\r\n  color: 'white',\r\n  fontWeight: 'bold',\r\n  cursor: 'pointer',\r\n  borderRadius: '5px',\r\n};\r\n\r\nconst submitStyle = {\r\n  ...btnStyle,\r\n  backgroundColor: '#007bff',\r\n};\r\n\r\nexport default Attendance;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,SAAS,CAAC;EAC3C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMU,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACrD,IAAI,CAACJ,IAAI,IAAI,CAACA,IAAI,CAACK,GAAG,EAAE;MACtBC,KAAK,CAAC,oBAAoB,CAAC;MAC3B;IACF;IAEA,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;IACtB,MAAMC,IAAI,GAAGF,GAAG,CAACG,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5C,MAAMC,IAAI,GAAGL,GAAG,CAACM,kBAAkB,CAAC,CAAC;IAErC,MAAMC,GAAG,GAAG,wCAAwCnB,IAAI,EAAE;IAC1D,MAAMoB,OAAO,GAAG;MACdC,UAAU,EAAEhB,IAAI,CAACK,GAAG;MACpBI,IAAI;MACJ,IAAId,IAAI,KAAK,SAAS,GAAG;QAAEsB,WAAW,EAAEL;MAAK,CAAC,GAAG;QAAEM,YAAY,EAAEN;MAAK,CAAC;IACzE,CAAC;IAED,IAAI;MACFd,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMR,KAAK,CAAC6B,IAAI,CAACL,GAAG,EAAEC,OAAO,CAAC;MAC9BT,KAAK,CAAC,GAAGX,IAAI,KAAK,SAAS,GAAG,UAAU,GAAG,WAAW,cAAc,CAAC;IACvE,CAAC,CAAC,OAAOyB,GAAG,EAAE;MACZd,KAAK,CAAC,2BAA2B,CAAC;MAClCe,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACpB,CAAC,SAAS;MACRtB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEN,OAAA;IAAK+B,KAAK,EAAE;MAAEC,SAAS,EAAE,QAAQ;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAC,QAAA,gBACnDlC,OAAA;MAAAkC,QAAA,EAAI;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACxBtC,OAAA;MAAK+B,KAAK,EAAE;QAAEQ,YAAY,EAAE;MAAO,CAAE;MAAAL,QAAA,gBACnClC,OAAA;QACE+B,KAAK,EAAE;UAAE,GAAGS,QAAQ;UAAEC,eAAe,EAAEtC,IAAI,KAAK,SAAS,GAAG,SAAS,GAAG;QAAO,CAAE;QACjFuC,OAAO,EAAEA,CAAA,KAAMtC,OAAO,CAAC,SAAS,CAAE;QAAA8B,QAAA,EACnC;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,QAET,eAAAtC,OAAA;QACE+B,KAAK,EAAE;UAAE,GAAGS,QAAQ;UAAEC,eAAe,EAAEtC,IAAI,KAAK,UAAU,GAAG,SAAS,GAAG;QAAO,CAAE;QAClFuC,OAAO,EAAEA,CAAA,KAAMtC,OAAO,CAAC,UAAU,CAAE;QAAA8B,QAAA,EACpC;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eACNtC,OAAA;MAAQ+B,KAAK,EAAEY,WAAY;MAACD,OAAO,EAAEnC,YAAa;MAACqC,QAAQ,EAAEvC,OAAQ;MAAA6B,QAAA,EAClE7B,OAAO,GAAG,eAAe,GAAG,UAAUF,IAAI;IAAE;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACpC,EAAA,CAzDID,UAAU;AAAA4C,EAAA,GAAV5C,UAAU;AA2DhB,MAAMuC,QAAQ,GAAG;EACfP,OAAO,EAAE,eAAe;EACxBa,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE,OAAO;EACdC,UAAU,EAAE,MAAM;EAClBC,MAAM,EAAE,SAAS;EACjBC,YAAY,EAAE;AAChB,CAAC;AAED,MAAMP,WAAW,GAAG;EAClB,GAAGH,QAAQ;EACXC,eAAe,EAAE;AACnB,CAAC;AAED,eAAexC,UAAU;AAAC,IAAA4C,EAAA;AAAAM,YAAA,CAAAN,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}